const getTeddiesById=async id=>{const response=await fetch("api/teddies/"+id);return await response.json()},deleteFromCartFunction=(id,color)=>{const cart=JSON.parse(localStorage.getItem("cart"));console.log(cart);const result=cart.filter(item=>item._id!==id||item.color!==color);console.log("result :"+result),localStorage.setItem("cart",JSON.stringify(result)),location.reload()},insertTeddy=(id,imgSource,name,color,quantity,price)=>{const rowProduct=document.createElement("div");rowProduct.setAttribute("class","row rowProduct");const columnSm=document.createElement("div");columnSm.setAttribute("class","col");const insertName=document.createElement("h3");insertName.innerHTML=name,columnSm.appendChild(insertName),rowProduct.appendChild(columnSm);const columnXs=document.createElement("div");columnXs.setAttribute("class","col-xs");const imageWrapper=document.createElement("div");imageWrapper.setAttribute("class","img-wrap");const imageContainer=document.createElement("img");imageContainer.setAttribute("class","img"),imageContainer.setAttribute("src",imgSource),imageWrapper.appendChild(imageContainer),columnXs.appendChild(imageWrapper),rowProduct.appendChild(columnXs),document.getElementById("productList").appendChild(rowProduct);const columnXsColor=document.createElement("div");columnXsColor.setAttribute("class","col-xs");const itemColor=document.createElement("p");itemColor.innerHTML="Color: "+color,columnXsColor.appendChild(itemColor),rowProduct.appendChild(columnXsColor);const columnXsQuantity=document.createElement("div");columnXsQuantity.setAttribute("class","col-xs");const itemQuantity=document.createElement("p");itemQuantity.innerHTML="Quantity: "+quantity+" unit. ",columnXsQuantity.appendChild(itemQuantity),rowProduct.appendChild(columnXsQuantity);const columnXsPrice=document.createElement("div");columnXsPrice.setAttribute("class","col-xs");const itemPrice=document.createElement("p");itemPrice.innerHTML=quantity*price/100+".00 EUR",columnXsPrice.appendChild(itemPrice),rowProduct.appendChild(columnXsPrice);const rowButtons=document.createElement("div");rowButtons.setAttribute("class","container productContols");const buttonsContainer=document.createElement("div");buttonsContainer.setAttribute("class","btn-group");const removeButton=document.createElement("a");removeButton.setAttribute("class","btn btn-light"),removeButton.innerHTML="Remove Article",console.log(id+" "+color),removeButton.addEventListener("click",()=>deleteFromCartFunction(id,color)),buttonsContainer.appendChild(removeButton),rowButtons.appendChild(buttonsContainer),rowProduct.appendChild(rowButtons)},buildMyCart=()=>{const cart=JSON.parse(localStorage.getItem("cart"));cart&&(document.getElementById("empty-cart-message").style.display="none",document.getElementById("checkout-form").style.display="block"),cart.map(async c=>{const teddy=await getTeddiesById(c._id);console.log(teddy),console.log(c),insertTeddy(teddy._id,teddy.imageUrl,teddy.name,c.color,c.quantity,teddy.price),total(teddy.price/100*c.quantity)})};buildMyCart();const total=price=>{const start=+document.getElementById("total").innerHTML;document.getElementById("total").innerHTML=start+ +price+".00 ",console.log(start)},validate=()=>{var firstName=document.getElementById("first-name").value,nameRGEX,firstNameResult=(nameRGEX=/^[a-zA-Z ]+$/).test(firstName);alert("first name: "+firstNameResult);var lastName=document.getElementById("last-name").value,nameRGEX,lastNameResult=(nameRGEX=/^[a-zA-Z ]+$/).test(lastName);alert("last name: "+lastNameResult);var email=document.getElementById("email").value,emailRGEX,emailResult=/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(email);alert("email: "+emailResult);var street=document.getElementById("street").value,streetRGEX,streetResult=/^[0-9]{1,3}(?:(?:[,. ]){1}[-a-zA-Zàâäéèêëïîôöùûüç]+)*$/.test(street);alert("street: "+streetResult);var postCode=document.getElementById("post-code").value,postCodeRGEX,postCodeResult=/^[0-9]+$/.test(postCode);alert("post code: "+postCodeResult);var city=document.getElementById("city").value,cityRGEX,cityResult=/^[a-zA-Z ]+$/.test(city);alert("city: "+cityResult);const contact={firstName:firstName,lastName:lastName,adress:street,city:city,email:email};alert(contact)};